{"ast":null,"code":"var _jsxFileName = \"D:\\\\AutoML\\\\app\\\\frontend\\\\src\\\\pages\\\\Home.js\",\n  _s = $RefreshSig$();\n// src/components/Home.js (or similar)\n\nimport React, { useState, useRef, useEffect } from 'react';\nimport styles from './index-react.module.css'; // Ensure path is correct\nimport { useNavigate } from 'react-router-dom';\nimport { callApi } from '../api/client'; // Ensure path is correct\nimport AttachFileIcon from '@mui/icons-material/AttachFile';\nimport MicIcon from '@mui/icons-material/Mic';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Home() {\n  _s();\n  const [queryInput, setQueryInput] = useState('');\n  const [file, setFile] = useState(null);\n  const [fileName, setFileName] = useState('');\n  const navigate = useNavigate();\n  const inputRef = useRef(null);\n  const [theme] = useState('dark');\n  const recognitionRef = useRef(null);\n  const [isListening, setIsListening] = useState(false);\n  const [micError, setMicError] = useState('');\n  const [micReady, setMicReady] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const [apiError, setApiError] = useState('');\n\n  // useEffect for speech recognition (keep as is)\n  useEffect(() => {\n    // ... (your existing useEffect code) ...\n  }, []);\n\n  // handleFileChange (keep as is, but ensure console logs are present for debugging)\n  const handleFileChange = e => {\n    setApiError('');\n    if (e.target.files && e.target.files[0]) {\n      const selectedFile = e.target.files[0];\n      console.log(\"DEBUG: File selected:\", selectedFile.name, selectedFile.type, selectedFile.size);\n      setFile(selectedFile);\n      setFileName(selectedFile.name);\n      setMicError('');\n    } else {\n      console.log(\"DEBUG: No file selected or selection cancelled.\");\n      setFile(null);\n      setFileName('');\n    }\n    e.target.value = null;\n  };\n\n  // handleSubmit - REVISED with more logging and clearer error handling\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setApiError('');\n    if (!queryInput && !file) {\n      setApiError(\"Please enter a prompt or upload a file.\");\n      return;\n    }\n    if (isListening && recognitionRef.current) {\n      recognitionRef.current.stop();\n    }\n    setIsLoading(true);\n    console.log(\"DEBUG: handleSubmit triggered. isLoading: true\"); // Log start\n\n    const formData = new FormData();\n    formData.append('queryInput', queryInput);\n    if (file) {\n      formData.append('file-upload', file, file.name); // Use correct key 'file-upload'\n      console.log(\"DEBUG: Appended file to FormData:\", file.name);\n    } else {\n      console.log(\"DEBUG: No file to append.\");\n    }\n    try {\n      console.log(\"DEBUG: Calling API endpoint '/api/home'...\");\n      const data = await callApi('home', 'POST', formData); // Ensure callApi is correctly implemented\n      console.log(\"DEBUG: Received API response data:\", data); // Log the *entire* response\n\n      // --- Check response structure rigorously ---\n      if (data && typeof data === 'object') {\n        if (data.conversation && Array.isArray(data.conversation)) {\n          // SUCCESS CASE - Navigate\n          console.log(\"DEBUG: Success response received. Navigating to /conversation...\");\n          navigate('/conversation', {\n            state: {\n              conversation: data.conversation,\n              filedetails: data.filedetails,\n              // Ensure backend sends this\n              final_problem: data.final_problem // Ensure backend sends this\n            }\n          });\n        } else if (data.error) {\n          // Backend returned a structured error\n          console.error(\"API returned an error:\", data.error, data.details || '');\n          setApiError(`Server error: ${data.error}${data.details ? ` (${data.details})` : ''}`);\n        } else {\n          // Backend returned OK status but unexpected JSON structure\n          console.error(\"API response missing expected 'conversation' array or 'error' field. Response:\", data);\n          setApiError(\"Received an unexpected success response structure from the server.\");\n        }\n      } else {\n        // Backend returned non-JSON or malformed response\n        console.error(\"API response was not a valid object:\", data);\n        setApiError(\"Received an invalid response format from the server.\");\n      }\n    } catch (error) {\n      // Catch errors from callApi (network, non-2xx status, etc.)\n      console.error(\"Error during API call via callApi:\", error);\n      setApiError(error.message || \"An unknown error occurred during the request.\");\n    } finally {\n      setIsLoading(false); // Stop loading indicator regardless of outcome\n      console.log(\"DEBUG: handleSubmit finished. isLoading: false\"); // Log end\n    }\n  };\n\n  // handleVoiceInput (keep as is)\n  const handleVoiceInput = () => {\n    if (!micReady || !recognitionRef.current) {\n      if (!micError) setMicError(\"Voice input unavailable or not ready.\");\n      return;\n    }\n    if (!isListening) {\n      try {\n        setQueryInput('');\n        setFile(null);\n        setFileName('');\n        setMicError('');\n        setApiError('');\n        recognitionRef.current.start();\n      } catch (error) {\n        console.error(\"Mic start error:\", error);\n        setMicError(\"Could not start mic.\");\n        setIsListening(false);\n      }\n    } else {\n      recognitionRef.current.stop();\n    }\n  };\n  const micButtonDisabled = !micReady;\n  const autoMLClassName = `${styles.autoML || ''} ${isListening ? styles.listening : ''}`.trim();\n  const micButtonClassName = `${styles.iconButton || ''} ${isListening ? styles.active : ''}`.trim();\n\n  // --- JSX Rendering (Keep as is, but uses the state updated above) ---\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: autoMLClassName,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.container,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.header,\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Bonjour\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"How Can We Help You?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.inputArea,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.inputWrapper,\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              ref: inputRef,\n              value: queryInput,\n              onChange: e => {\n                setQueryInput(e.target.value);\n                setApiError('');\n              },\n              placeholder: isListening ? \"Listening...\" : \"Describe Your Problem or Upload CSV\",\n              disabled: isListening || isLoading\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.inputIcons,\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"file-upload-input\",\n                className: styles.iconButton,\n                \"aria-disabled\": isListening || isLoading,\n                title: \"Attach CSV file\",\n                style: isListening || isLoading ? {\n                  pointerEvents: 'none',\n                  opacity: 0.5\n                } : {},\n                children: /*#__PURE__*/_jsxDEV(AttachFileIcon, {\n                  fontSize: \"inherit\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 153,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 146,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                id: \"file-upload-input\",\n                type: \"file\",\n                accept: \".csv\",\n                hidden: true,\n                onChange: handleFileChange,\n                disabled: isListening || isLoading\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 155,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: handleVoiceInput,\n                className: micButtonClassName,\n                disabled: micButtonDisabled || isLoading,\n                title: micError ? micError : !micReady ? \"Voice input unavailable\" : isListening ? \"Stop Listening\" : \"Start Voice Input\",\n                children: /*#__PURE__*/_jsxDEV(MicIcon, {\n                  fontSize: \"inherit\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 170,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 163,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.statusArea,\n            children: [fileName && !apiError && !micError &&\n            /*#__PURE__*/\n            // Show filename unless there's an error\n            _jsxDEV(\"p\", {\n              className: styles.fileDisplay,\n              children: [\"Selected File: \", fileName]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 19\n            }, this), isListening && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: `${styles.statusDisplay || ''} ${styles.listeningIndicator || ''}`.trim(),\n              children: \"\\uD83C\\uDF99\\uFE0F Listening...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 19\n            }, this), micError && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: `${styles.statusDisplay || ''} ${styles.errorMessage || ''}`.trim(),\n              children: [\"\\u26A0\\uFE0F Mic Error: \", micError]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 19\n            }, this), apiError && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: `${styles.statusDisplay || ''} ${styles.errorMessage || ''}`.trim(),\n              children: [\"\\u274C Error: \", apiError]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: styles.actionButton,\n          disabled: isListening || isLoading,\n          children: isLoading ? 'Processing...' : 'Start Analysis'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 127,\n    columnNumber: 5\n  }, this);\n}\n_s(Home, \"360LZ7sx0bq6A1j2DyQCcZJ+5DE=\", false, function () {\n  return [useNavigate];\n});\n_c = Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["React","useState","useRef","useEffect","styles","useNavigate","callApi","AttachFileIcon","MicIcon","jsxDEV","_jsxDEV","Home","_s","queryInput","setQueryInput","file","setFile","fileName","setFileName","navigate","inputRef","theme","recognitionRef","isListening","setIsListening","micError","setMicError","micReady","setMicReady","isLoading","setIsLoading","apiError","setApiError","handleFileChange","e","target","files","selectedFile","console","log","name","type","size","value","handleSubmit","preventDefault","current","stop","formData","FormData","append","data","conversation","Array","isArray","state","filedetails","final_problem","error","details","message","handleVoiceInput","start","micButtonDisabled","autoMLClassName","autoML","listening","trim","micButtonClassName","iconButton","active","className","children","container","header","_jsxFileName","lineNumber","columnNumber","onSubmit","inputArea","inputWrapper","ref","onChange","placeholder","disabled","inputIcons","htmlFor","title","style","pointerEvents","opacity","fontSize","id","accept","hidden","onClick","statusArea","fileDisplay","statusDisplay","listeningIndicator","errorMessage","actionButton","_c","$RefreshReg$"],"sources":["D:/AutoML/app/frontend/src/pages/Home.js"],"sourcesContent":["// src/components/Home.js (or similar)\r\n\r\nimport React, { useState, useRef, useEffect } from 'react';\r\nimport styles from './index-react.module.css'; // Ensure path is correct\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { callApi } from '../api/client'; // Ensure path is correct\r\nimport AttachFileIcon from '@mui/icons-material/AttachFile';\r\nimport MicIcon from '@mui/icons-material/Mic';\r\n\r\nexport default function Home() {\r\n  const [queryInput, setQueryInput] = useState('');\r\n  const [file, setFile] = useState(null);\r\n  const [fileName, setFileName] = useState('');\r\n  const navigate = useNavigate();\r\n  const inputRef = useRef(null);\r\n  const [theme] = useState('dark');\r\n  const recognitionRef = useRef(null);\r\n  const [isListening, setIsListening] = useState(false);\r\n  const [micError, setMicError] = useState('');\r\n  const [micReady, setMicReady] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [apiError, setApiError] = useState('');\r\n\r\n  // useEffect for speech recognition (keep as is)\r\n  useEffect(() => {\r\n    // ... (your existing useEffect code) ...\r\n  }, []);\r\n\r\n  // handleFileChange (keep as is, but ensure console logs are present for debugging)\r\n  const handleFileChange = (e) => {\r\n    setApiError('');\r\n    if (e.target.files && e.target.files[0]) {\r\n        const selectedFile = e.target.files[0];\r\n        console.log(\"DEBUG: File selected:\", selectedFile.name, selectedFile.type, selectedFile.size);\r\n        setFile(selectedFile);\r\n        setFileName(selectedFile.name);\r\n        setMicError('');\r\n    } else {\r\n        console.log(\"DEBUG: No file selected or selection cancelled.\");\r\n        setFile(null);\r\n        setFileName('');\r\n    }\r\n    e.target.value = null;\r\n  };\r\n\r\n  // handleSubmit - REVISED with more logging and clearer error handling\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setApiError('');\r\n    if (!queryInput && !file) {\r\n        setApiError(\"Please enter a prompt or upload a file.\");\r\n        return;\r\n    }\r\n    if (isListening && recognitionRef.current) {\r\n      recognitionRef.current.stop();\r\n    }\r\n    setIsLoading(true);\r\n    console.log(\"DEBUG: handleSubmit triggered. isLoading: true\"); // Log start\r\n\r\n    const formData = new FormData();\r\n    formData.append('queryInput', queryInput);\r\n\r\n    if (file) {\r\n        formData.append('file-upload', file, file.name); // Use correct key 'file-upload'\r\n        console.log(\"DEBUG: Appended file to FormData:\", file.name);\r\n    } else {\r\n        console.log(\"DEBUG: No file to append.\");\r\n    }\r\n\r\n    try {\r\n        console.log(\"DEBUG: Calling API endpoint '/api/home'...\");\r\n        const data = await callApi('home', 'POST', formData); // Ensure callApi is correctly implemented\r\n        console.log(\"DEBUG: Received API response data:\", data); // Log the *entire* response\r\n\r\n        // --- Check response structure rigorously ---\r\n        if (data && typeof data === 'object') {\r\n            if (data.conversation && Array.isArray(data.conversation)) {\r\n                // SUCCESS CASE - Navigate\r\n                console.log(\"DEBUG: Success response received. Navigating to /conversation...\");\r\n                navigate('/conversation', {\r\n                    state: {\r\n                        conversation: data.conversation,\r\n                        filedetails: data.filedetails, // Ensure backend sends this\r\n                        final_problem: data.final_problem // Ensure backend sends this\r\n                    }\r\n                });\r\n            } else if (data.error) {\r\n                // Backend returned a structured error\r\n                console.error(\"API returned an error:\", data.error, data.details || '');\r\n                setApiError(`Server error: ${data.error}${data.details ? ` (${data.details})` : ''}`);\r\n            } else {\r\n                // Backend returned OK status but unexpected JSON structure\r\n                console.error(\"API response missing expected 'conversation' array or 'error' field. Response:\", data);\r\n                setApiError(\"Received an unexpected success response structure from the server.\");\r\n            }\r\n        } else {\r\n             // Backend returned non-JSON or malformed response\r\n             console.error(\"API response was not a valid object:\", data);\r\n             setApiError(\"Received an invalid response format from the server.\");\r\n        }\r\n    } catch (error) {\r\n        // Catch errors from callApi (network, non-2xx status, etc.)\r\n        console.error(\"Error during API call via callApi:\", error);\r\n        setApiError(error.message || \"An unknown error occurred during the request.\");\r\n    } finally {\r\n        setIsLoading(false); // Stop loading indicator regardless of outcome\r\n        console.log(\"DEBUG: handleSubmit finished. isLoading: false\"); // Log end\r\n    }\r\n  };\r\n\r\n  // handleVoiceInput (keep as is)\r\n  const handleVoiceInput = () => {\r\n    if (!micReady || !recognitionRef.current) { if (!micError) setMicError(\"Voice input unavailable or not ready.\"); return; }\r\n    if (!isListening) {\r\n      try { setQueryInput(''); setFile(null); setFileName(''); setMicError(''); setApiError(''); recognitionRef.current.start(); }\r\n      catch (error) { console.error(\"Mic start error:\", error); setMicError(\"Could not start mic.\"); setIsListening(false); }\r\n    } else { recognitionRef.current.stop(); }\r\n  };\r\n\r\n\r\n  const micButtonDisabled = !micReady;\r\n  const autoMLClassName = `${styles.autoML || ''} ${isListening ? styles.listening : ''}`.trim();\r\n  const micButtonClassName = `${styles.iconButton || ''} ${isListening ? styles.active : ''}`.trim();\r\n\r\n  // --- JSX Rendering (Keep as is, but uses the state updated above) ---\r\n  return (\r\n    <div className={autoMLClassName}>\r\n      <div className={styles.container}>\r\n        <div className={styles.header}>\r\n          <p>Bonjour</p>\r\n          <h1>How Can We Help You?</h1>\r\n        </div>\r\n\r\n        <form onSubmit={handleSubmit}>\r\n          <div className={styles.inputArea}>\r\n            <div className={styles.inputWrapper}>\r\n              <input\r\n                type=\"text\"\r\n                ref={inputRef}\r\n                value={queryInput}\r\n                onChange={(e) => { setQueryInput(e.target.value); setApiError(''); }}\r\n                placeholder={isListening ? \"Listening...\" : \"Describe Your Problem or Upload CSV\"}\r\n                disabled={isListening || isLoading}\r\n              />\r\n              <div className={styles.inputIcons}>\r\n                <label\r\n                  htmlFor=\"file-upload-input\"\r\n                  className={styles.iconButton}\r\n                  aria-disabled={isListening || isLoading}\r\n                  title=\"Attach CSV file\"\r\n                  style={(isListening || isLoading) ? { pointerEvents: 'none', opacity: 0.5 } : {}}\r\n                >\r\n                  <AttachFileIcon fontSize=\"inherit\" />\r\n                </label>\r\n                <input\r\n                  id=\"file-upload-input\"\r\n                  type=\"file\"\r\n                  accept=\".csv\"\r\n                  hidden\r\n                  onChange={handleFileChange}\r\n                  disabled={isListening || isLoading}\r\n                />\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={handleVoiceInput}\r\n                  className={micButtonClassName}\r\n                  disabled={micButtonDisabled || isLoading}\r\n                  title={micError ? micError : !micReady ? \"Voice input unavailable\" : isListening ? \"Stop Listening\" : \"Start Voice Input\"}\r\n                >\r\n                  <MicIcon fontSize=\"inherit\" />\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Status Messages Area */}\r\n            <div className={styles.statusArea}>\r\n                {/* Display selected file name */}\r\n                {fileName && !apiError && !micError && ( // Show filename unless there's an error\r\n                  <p className={styles.fileDisplay}>Selected File: {fileName}</p>\r\n                )}\r\n                {/* Display microphone status */}\r\n                {isListening && (\r\n                  <p className={`${styles.statusDisplay || ''} ${styles.listeningIndicator || ''}`.trim()}>🎙️ Listening...</p>\r\n                )}\r\n                {micError && (\r\n                  <p className={`${styles.statusDisplay || ''} ${styles.errorMessage || ''}`.trim()}>⚠️ Mic Error: {micError}</p>\r\n                )}\r\n                {/* Display API/Submission errors */}\r\n                {apiError && (\r\n                  <p className={`${styles.statusDisplay || ''} ${styles.errorMessage || ''}`.trim()}>❌ Error: {apiError}</p>\r\n                )}\r\n             </div>\r\n          </div>\r\n\r\n          {/* Submit Button */}\r\n          <button type=\"submit\" className={styles.actionButton} disabled={isListening || isLoading}>\r\n            {isLoading ? 'Processing...' : 'Start Analysis'}\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}